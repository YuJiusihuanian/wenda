{"version":3,"sources":["webpack:///static/js/0.f0d044919541f781a046.js","webpack:///./src/views/Message.vue","webpack:///Loadmore.vue","webpack:///./src/components/Loadmore.vue?5c6b","webpack:///./src/components/Loadmore.vue?ba90","webpack:///./src/components/Loadmore.vue","webpack:///./src/components/Loadmore.vue?4222","webpack:///Message.vue","webpack:///./src/views/Message.vue?9637","webpack:///./src/views/Message.vue?14a9","webpack:///./src/views/Message.vue?a78b"],"names":["webpackJsonp","62","module","exports","__webpack_require__","Component","65","__webpack_exports__","Object","defineProperty","value","data","topStatus","list","hide","title","topics","index","topicarg","page","tab","limit","mdrender","created","mounted","this","$route","query","beforeRouteLeave","console","log","methods","handleTopChange","status","gettab","loadTop","$refs","loadmore","onTopLoaded","getTopics","$ajax","method","url","params","then","response","content","length","forEach","mergeTopics","catch","error","topic","id","topicsIndex","push","watch","to","from","66","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","67","locals","68","69","render","_vm","_h","$createElement","_c","_self","attrs","ref","top-method","on","top-status-change","_l","item","key","_v","_s","click","staticClass","slot","directives","name","rawName","expression","class","rotate","staticRenderFns","71","__WEBPACK_IMPORTED_MODULE_0__components_Tabbar_vue__","__WEBPACK_IMPORTED_MODULE_0__components_Tabbar_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__components_Loadmore_vue__","__WEBPACK_IMPORTED_MODULE_1__components_Loadmore_vue___default","components","t-abbar","a","l-oadmore","75","79","83"],"mappings":"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","file":"static/js/0.f0d044919541f781a046.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(79)\n\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(71),\n  /* template */\n  __webpack_require__(83),\n  /* scopeId */\n  \"data-v-5cc269ea\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      topStatus: '',\n      list: 20,\n      hide: 'hide',\n      title: {},\n      topics: {},\n      index: {},\n      topicarg: {\n        page: 4,\n        tab: 'all',\n        limit: 20,\n        mdrender: true\n\n      }\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    if (this.$route.query && this.$route.query.tab) {\n      this.topicarg.tab = this.$route.query.tab;\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave() {\n    console.log('111');\n  },\n\n  methods: {\n    handleTopChange: function handleTopChange(status) {\n      this.topStatus = status;\n    },\n    gettab: function gettab() {\n      console.log(this.list);\n    },\n    loadTop: function loadTop() {\n      this.list = 50;\n\n      this.$refs.loadmore.onTopLoaded();\n    },\n    getTopics: function getTopics(tab) {\n      this.$ajax({\n        method: 'get',\n        url: 'https://cnodejs.org/api/v1/topics',\n        data: {},\n\n        params: {\n          page: this.topicarg.page,\n\n          tab: this.topicarg.tab,\n\n          limit: this.topicarg.limit,\n\n          mdrender: this.topicarg.mdrender\n        }\n\n      }).then(function (response) {\n\n        var topics = {\n          date: response.data.data[0].content,\n          length: response.data.length\n        };\n        if (response && response.data && response.data.data) {\n          console.log(response.data.data);\n          response.data.data.forEach(this.mergeTopics);\n        }\n      }).catch(function (error) {});\n    },\n    mergeTopics: function mergeTopics(topic) {\n      console.log(topic);\n      if (typeof this.index[topic.id] === 'number') {\n        var topicsIndex = this.index[topic.id];\n        this.topics[topicsIndex] = topic;\n      } else {\n        this.index[topic.id] = this.topics.length;\n        this.topics.push(topic);\n      }\n    }\n  },\n  watch: {\n    $route: function $route(to, from) {\n      if (to.query.tab) {\n        this.topicarg.tab = to.query.tab;\n      } else {\n        this.topicarg.tab = 'all';\n      }\n      this.topicarg.page = 1;\n      this.getTopics();\n      console.log(this.topicarg.tab);\n      console.log(this);\n      console.log(this.topics);\n    }\n  }\n\n});\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(59)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#Loadmore[data-v-73846539]{background:#fff;width:100%;height:100%;margin-bottom:55px}\", \"\", {\"version\":3,\"sources\":[\"G:/git/wenda/src/components/Loadmore.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,gBAAiB,AACjB,WAAY,AACZ,YAAa,AAEb,kBAAoB,CACrB\",\"file\":\"Loadmore.vue\",\"sourcesContent\":[\"\\n#Loadmore[data-v-73846539] {\\n  background: #fff;\\n  width: 100%;\\n  height: 100%;\\n  /*margin-top:4px;*/\\n  margin-bottom: 55px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(66);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(60)(\"7b87008e\", content, true);\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(67)\n\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(65),\n  /* template */\n  __webpack_require__(69),\n  /* scopeId */\n  \"data-v-73846539\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"Loadmore\"\n    }\n  }, [_c('mt-loadmore', {\n    ref: \"loadmore\",\n    attrs: {\n      \"top-method\": _vm.loadTop\n    },\n    on: {\n      \"top-status-change\": _vm.handleTopChange\n    }\n  }, [_c('ul', [_vm._l((_vm.list), function(item) {\n    return _c('li', {\n      key: item.id\n    }, [_c('router-link', {\n      attrs: {\n        \"to\": \"/\"\n      }\n    }, [_vm._v(\"\\n          \" + _vm._s(_vm.topics) + \"\\n        \")])], 1)\n  }), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.getTopics\n    }\n  }, [_vm._v(\"加载数据\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.gettab\n    }\n  }, [_vm._v(\"点击\")])], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"mint-loadmore-top\",\n    slot: \"top\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'pull'),\n      expression: \"topStatus === 'pull'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"↓\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'pull'),\n      expression: \"topStatus === 'pull'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"下拉刷新\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'drop'),\n      expression: \"topStatus === 'drop'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"↑\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'drop'),\n      expression: \"topStatus === 'drop'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"释放更新\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'loading'),\n      expression: \"topStatus === 'loading'\"\n    }],\n    class: _vm.hide\n  }, [_vm._v(\"加载中...\")])])])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Tabbar_vue__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Tabbar_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Tabbar_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Loadmore_vue__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Loadmore_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_Loadmore_vue__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'Message',\n  components: {\n    't-abbar': __WEBPACK_IMPORTED_MODULE_0__components_Tabbar_vue___default.a,\n    'l-oadmore': __WEBPACK_IMPORTED_MODULE_1__components_Loadmore_vue___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(59)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Message.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(75);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(60)(\"ffcca5fa\", content, true);\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"Message\"\n    }\n  }, [_c('l-oadmore'), _vm._v(\" \"), _c('t-abbar')], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.f0d044919541f781a046.js","\n/* styles */\nrequire(\"!!../../node_modules/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-5cc269ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./Message.vue\")\n\nvar Component = require(\"!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./Message.vue\"),\n  /* template */\n  require(\"!!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5cc269ea\\\"}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./Message.vue\"),\n  /* scopeId */\n  \"data-v-5cc269ea\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Message.vue\n// module id = 62\n// module chunks = 0","<template>\n  <div id=\"Loadmore\">\n    <mt-loadmore :top-method=\"loadTop\" @top-status-change=\"handleTopChange\" ref=\"loadmore\">\n      <ul>\n        <li v-for=\"item in list\" :key=\"item.id\">\n\n          <router-link to=\"/\">\n            {{ topics }}\n          </router-link>\n        </li>\n        <button @click=\"getTopics\">加载数据</button>\n        <button @click=\"gettab\">点击</button>\n      </ul>\n      <div slot=\"top\" class=\"mint-loadmore-top\">\n        <span v-show=\"topStatus === 'pull'\" :class=\"{ 'rotate': topStatus === 'drop' }\">↓</span>\n        <span v-show=\"topStatus === 'pull'\" :class=\"{ 'rotate': topStatus === 'drop' }\">下拉刷新</span>\n        <span v-show=\"topStatus === 'drop'\" :class=\"{ 'rotate': topStatus === 'drop' }\">↑</span>\n        <span v-show=\"topStatus === 'drop'\" :class=\"{ 'rotate': topStatus === 'drop' }\">释放更新</span>\n        <span v-show=\"topStatus === 'loading'\" :class=\"hide\">加载中...</span>\n      </div>\n    </mt-loadmore>\n  </div>\n</template>\n<script>\n  export default {\n    data() {\n      return {\n        topStatus: '',\n        list:20,\n        hide:'hide',\n        title:{},\n        topics:{},\n        index:{},\n        topicarg:{\n          page:4,\n          tab:'all',\n          limit:20,\n          mdrender:true\n\n        }\n      };\n    },\n    created(){\n\n    },\n    mounted(){\n      if(this.$route.query && this.$route.query.tab){\n        this.topicarg.tab = this.$route.query.tab;\n      }\n    },\n    beforeRouteLeave(){\n        console.log('111');\n    },\n    methods: {\n\n      handleTopChange(status) {\n        this.topStatus = status;\n      },\n      gettab(){\n        console.log(this.list);\n      },\n      loadTop() {\n      // 加载更多数据\n        this.list=50;\n        //加载完成\n        this.$refs.loadmore.onTopLoaded();\n      },\n      getTopics(tab){\n        this.$ajax({\n          method: 'get',\n          url: 'https://cnodejs.org/api/v1/topics',\n          data: {},\n          //请求参数\n          params: {\n            //页数\n            page: this.topicarg.page,\n            //主题分类\n            tab: this.topicarg.tab,\n            //每一页主题数量\n            limit: this.topicarg.limit,\n            //是否支持markdown格式文本\n            mdrender: this.topicarg.mdrender\n          }\n\n        }).then(function (response) {\n\n          let topics = {\n            date: response.data.data[0].content,\n            length: response.data.length,\n          }\n          if (response && response.data && response.data.data) {\n              console.log(response.data.data);\n            response.data.data.forEach(this.mergeTopics);\n          }\n        })\n          .catch(function (error) {\n//                console.log(error);\n          })\n      },\n      mergeTopics(topic) {\n          console.log(topic);\n        if (typeof this.index[topic.id] === 'number') {\n          const topicsIndex = this.index[topic.id];\n          this.topics[topicsIndex] = topic;\n        } else {\n          this.index[topic.id] = this.topics.length;\n          this.topics.push(topic);\n        }\n      },\n    },\n    watch:{\n      $route (to , from){\n          if(to.query.tab){\n              this.topicarg.tab = to.query.tab;\n          }else{\n            this.topicarg.tab = 'all'\n          }\n          this.topicarg.page = 1;\n          this.getTopics();\n        console.log(this.topicarg.tab);\n        console.log(this);\n        console.log(this.topics);\n      }\n    }\n\n  };\n</script>\n<style lang=\"less\" scoped>\n  @import '../less/config.less';\n  #Loadmore{\n    background:#fff;\n    width:100%;\n    height:100%;\n    /*margin-top:4px;*/\n    margin-bottom:55px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Loadmore.vue?33972d90","exports = module.exports = require(\"../../node_modules/._css-loader@0.28.1@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#Loadmore[data-v-73846539]{background:#fff;width:100%;height:100%;margin-bottom:55px}\", \"\", {\"version\":3,\"sources\":[\"G:/git/wenda/src/components/Loadmore.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,gBAAiB,AACjB,WAAY,AACZ,YAAa,AAEb,kBAAoB,CACrB\",\"file\":\"Loadmore.vue\",\"sourcesContent\":[\"\\n#Loadmore[data-v-73846539] {\\n  background: #fff;\\n  width: 100%;\\n  height: 100%;\\n  /*margin-top:4px;*/\\n  margin-bottom: 55px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._css-loader@0.28.1@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-73846539\",\"scoped\":true,\"hasInlineConfig\":false}!./~/._less-loader@4.0.3@less-loader/dist?{\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Loadmore.vue\n// module id = 66\n// module chunks = 0 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/._css-loader@0.28.1@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-73846539\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/._less-loader@4.0.3@less-loader/dist/index.js?{\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./Loadmore.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/._vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"7b87008e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/._vue-style-loader@2.0.5@vue-style-loader!./~/._css-loader@0.28.1@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-73846539\",\"scoped\":true,\"hasInlineConfig\":false}!./~/._less-loader@4.0.3@less-loader/dist?{\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Loadmore.vue\n// module id = 67\n// module chunks = 0 1","\n/* styles */\nrequire(\"!!../../node_modules/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-73846539\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./Loadmore.vue\")\n\nvar Component = require(\"!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./Loadmore.vue\"),\n  /* template */\n  require(\"!!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-73846539\\\"}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./Loadmore.vue\"),\n  /* scopeId */\n  \"data-v-73846539\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Loadmore.vue\n// module id = 68\n// module chunks = 0 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"Loadmore\"\n    }\n  }, [_c('mt-loadmore', {\n    ref: \"loadmore\",\n    attrs: {\n      \"top-method\": _vm.loadTop\n    },\n    on: {\n      \"top-status-change\": _vm.handleTopChange\n    }\n  }, [_c('ul', [_vm._l((_vm.list), function(item) {\n    return _c('li', {\n      key: item.id\n    }, [_c('router-link', {\n      attrs: {\n        \"to\": \"/\"\n      }\n    }, [_vm._v(\"\\n          \" + _vm._s(_vm.topics) + \"\\n        \")])], 1)\n  }), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.getTopics\n    }\n  }, [_vm._v(\"加载数据\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.gettab\n    }\n  }, [_vm._v(\"点击\")])], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"mint-loadmore-top\",\n    slot: \"top\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'pull'),\n      expression: \"topStatus === 'pull'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"↓\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'pull'),\n      expression: \"topStatus === 'pull'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"下拉刷新\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'drop'),\n      expression: \"topStatus === 'drop'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"↑\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'drop'),\n      expression: \"topStatus === 'drop'\"\n    }],\n    class: {\n      'rotate': _vm.topStatus === 'drop'\n    }\n  }, [_vm._v(\"释放更新\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.topStatus === 'loading'),\n      expression: \"topStatus === 'loading'\"\n    }],\n    class: _vm.hide\n  }, [_vm._v(\"加载中...\")])])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-73846539\"}!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/Loadmore.vue\n// module id = 69\n// module chunks = 0 1","<template>\n  <div id=\"Message\">\n    <l-oadmore></l-oadmore>\n    <t-abbar></t-abbar>\n  </div>\n</template>\n<script>\n  import Tabbar from '../components/Tabbar.vue'\n  import Loadmore from '../components/Loadmore.vue'\n  export default{\n    name:'Message',\n    components:{\n      't-abbar':Tabbar,\n      'l-oadmore':Loadmore\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// Message.vue?6a7f14fb","exports = module.exports = require(\"../../node_modules/._css-loader@0.28.1@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Message.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._css-loader@0.28.1@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-5cc269ea\",\"scoped\":true,\"hasInlineConfig\":false}!./~/._less-loader@4.0.3@less-loader/dist?{\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/Message.vue\n// module id = 75\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/._css-loader@0.28.1@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5cc269ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/._less-loader@4.0.3@less-loader/dist/index.js?{\\\"sourceMap\\\":true}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./Message.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/._vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"ffcca5fa\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/._vue-style-loader@2.0.5@vue-style-loader!./~/._css-loader@0.28.1@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-5cc269ea\",\"scoped\":true,\"hasInlineConfig\":false}!./~/._less-loader@4.0.3@less-loader/dist?{\"sourceMap\":true}!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/Message.vue\n// module id = 79\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"Message\"\n    }\n  }, [_c('l-oadmore'), _vm._v(\" \"), _c('t-abbar')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-5cc269ea\"}!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/Message.vue\n// module id = 83\n// module chunks = 0"],"sourceRoot":""}